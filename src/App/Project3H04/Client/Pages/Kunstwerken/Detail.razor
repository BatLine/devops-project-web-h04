@page "/artworks/{id:int}"
@inject HttpClient httpClient
<h3>Details</h3>
@if (_kunstwerk == null)
{
   // <LoadingSpinner />
   <p>Loading...</p>
}
else
{
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <img src="/images/@_kunstwerk.Fotos.First().Pad" style="width: 100%; height:auto" />
            </div>




            <div class="col-lg-6">

                <h1 style="text-align: center">@_kunstwerk.Naam</h1>
                <p><span style="font-weight:bold">Kunstenaar</span> : @_kunstwerk.Kunstenaar.Gebruikersnaam</p>
                <p class="subtitle" style="text-align:left; font-weight:bold">about</p>
                <p style="border: 1px solid black; width:100%; height:auto">@_kunstwerk.Beschrijving</p>
                <p><span style="font-weight:bold">Materiaal</span> : @_kunstwerk.Materiaal</p>
                <p style="font-size:3rem; ">$@_kunstwerk.Prijs</p>
                <!--Dit mag enkel de kunstenaar eigenaar uiteraard-->
                <a class="btn btn-secondary" href="artworks/edit/@Id">Edit</a>

                @if (_kunstwerk.Fotos.Count > 1)
                {
                    <div>
                        <p style="text-align:left; font-weight:bold">photos</p>


                        @foreach (Foto_DTO foto in _kunstwerk.Fotos.Skip(1))
                        {
                            <img src="/images/@foto.Pad" width="250" height="250" style="padding-right:20px;" />
                        }
                    </div>
                }




            </div>
        </div>
    </div>




}

@code {
    [Parameter] public int Id { get; set; }
    private Kunstwerk_DTO.Detail _kunstwerk;

    protected override async Task OnParametersSetAsync()
    {
        _kunstwerk = await httpClient.GetFromJsonAsync<Kunstwerk_DTO.Detail>($"api/Kunstwerk/{Id}");
    }
}
